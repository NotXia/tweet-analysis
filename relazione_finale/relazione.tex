\documentclass[11pt]{article}
\usepackage{algorithm2e}
\usepackage[bottom]{footmisc} 
\usepackage[italian]{babel}
\usepackage[document]{ragged2e}
\justifying
\usepackage{amsfonts, amssymb, amsmath}
\usepackage{cancel}
\usepackage{float}
\usepackage{mathtools}
\usepackage[margin=3cm]{geometry}
% \setcounter{secnumdepth}{0}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}
\usepackage{array}
\usepackage{makecell}
\usepackage{tikz}
\usetikzlibrary{arrows, positioning, quotes, shapes.geometric}
\usepackage{hyperref}
\usepackage[noabbrev,capitalize,italian]{cleveref}
\newcommand{\fref}[1]{\hyperref[#1]{\cref{#1}}}
\usepackage{makecell}
\usepackage{etoolbox}
\patchcmd{\thebibliography}{\section*{\refname}}{}{}{}
\usepackage{enumitem}

\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000



% --- MACRO ---

% Box user story
% {US}{Punti}{DoD}{Test}{Epica}
\newcommand{\userstory}[5]{%
    \begin{center}
    \fbox{\parbox{15cm}{%
        \begin{minipage}{9.8cm}
            \textbf{US}: #1\\
            \textbf{Epica}: #5
        \end{minipage}
        \hfill
        \begin{minipage}{5cm}
            \begin{flushright}
                \textbf{Punti}: #2
            \end{flushright}
        \end{minipage}
        \vspace*{6pt}

        \textbf{DOD}: #3\\

        \def\temp{#4}\ifx\temp\empty
            %
        \else
            \textbf{Test}: #4\\
        \fi
    }}
    \end{center}
}

% {Nome}{Responsabilità}{Collaborazioni}
\newcommand{\crc}[3]{%
    \begin{center}
        \fbox{\parbox{15cm}{%
            \vspace*{0.3em}

            \begin{minipage}{13cm}
                \textbf{Nome}: \texttt{#1}\\
            \end{minipage}
            \vspace*{0.5em}

            \begin{minipage}[t]{0.45\textwidth}
                \textbf{Responsabilità}
                \def\temp{#2}\ifx\temp\empty
                    %
                \else
                    \begin{itemize}[topsep=0.2em]
                        \setlength\itemsep{-0.5em}
                        #2
                    \end{itemize}
                \fi
            \end{minipage}
            \hfill\vline\hfill
            \begin{minipage}[t]{0.45\textwidth}
                \textbf{Collaborazioni}
                \def\temp{#3}\ifx\temp\empty
                    %
                \else
                    \begin{itemize}[topsep=0.2em]
                        \setlength\itemsep{-0.5em}
                        #3
                    \end{itemize}
                \fi
            \end{minipage}
            
            \vspace*{0.3em}
        }}
    \end{center}
}



\begin{document}
\begin{titlepage}
    \begin{center}
        \vspace*{1.5cm}
            
        \Huge
        \textbf{Rapporto del TEAM 12}
            
        \vspace{0.3cm}
        \LARGE
        Tweet Analysis\\[0.2em]

        \vspace{1.5cm}
          
        \begin{minipage}[t]{0.47\textwidth}
            \begin{center}
                \parbox{50mm}{\centering\large {\bf Cheikh Ibrahim $\cdot$ Zaid} \\[0.2em] PO Operativo \\[0.3em] Matricola: \texttt{0000974909}}\\[2em]
                \parbox{50mm}{\centering\large {\bf Lee $\cdot$ Qun Hao Henry} \\[0.2em] Developer \\[0.3em] Matricola: \texttt{0000990259}}
            \end{center}
		\end{minipage}
		\hfill
		\begin{minipage}[t]{0.47\textwidth}\raggedleft
            \begin{center}
                \parbox{50mm}{\centering\large {\bf Xia $\cdot$ Tian Cheng} \\[0.2em] Scrum master \\[0.3em] Matricola: \texttt{0000975129}}\\[2em]
                \parbox{50mm}{\centering\large {\bf Paris $\cdot$ Manuel} \\[0.2em] Developer \\[0.3em] Matricola: \texttt{0000997526}}
            \end{center}
		\end{minipage}  
            
        \vspace{6cm}
            
        Anno accademico\\
        $2022 - 2023$
            
        \vspace{0.8cm}
            
            
        \Large
        Corso di Ingegneria del Software\\
        Alma Mater Studiorum $\cdot$ Università di Bologna\\
            
    \end{center}
\end{titlepage}
\pagebreak


\tableofcontents
\newpage


\section{Descrizione del prodotto}
\subsection{Scope}
Il prodotto realizzato è un client Twitter in grado di fornire analisi e funzionalità specifiche per determinate tematiche.\\
In particolare sono state richieste le seguenti funzioni:
\begin{itemize}
    \item Ricerca e visualizzazione di tweet con filtri di ricerca, grafici per l'analisi aggregata e mappa per la geolocalizzazione.
    \item Partita a scacchi contro gli utenti di Twitter che giocano la propria mossa a maggioranza.
    \item Raccolta dei tweet degli spettatori dei giochi televisivi \textit{L'Eredità} e \textit{Reazione a Catena}, visualizzando i tentativi e i vincitori.
    \item Visualizzazione di una sintesi dei punteggi, di statistiche e delle squadre partecipanti degli altri utenti riguardanti il \textit{Fantacitorio}.
\end{itemize}

Il backlog è stato quindi partizionato in cinque epiche:
\begin{center}
    \begin{tabular}{ | m{8em} | m{11cm} | }
        \hline
        {\textbf{Epica}} & {\textbf{Descrizione}} \\
        \hline
        Raccolta e analisi di tweet & Funzionalità per ricercare e analizzare tweet. \\ 
        \hline
        Scacchi & Partita a scacchi in cui il giocatore compete contro gli utenti di Twitter che scelgono a maggioranza la mossa. \\ 
        \hline
        L'Eredità & Raccolta e sintesi dei tentativi degli utenti di Twitter di indovinare la \textit{Ghigliottina}. \\ 
        \hline
        Reazione a catena & Raccolta e sintesi dei tentativi degli utenti di Twitter di indovinare la \textit{Catena Finale}. \\ 
        \hline
        Fantacitorio & Raccolta e visualizzazione dei punteggi del \textit{Fantacitorio}. Ricerca delle squadre degli altri utenti. \\ 
        \hline
    \end{tabular}
\end{center}
Le user stories contenute in ciascuna epica sono descritte nella \fref{sprint_description}.\\~\\

Il prodotto è attivo online \cite{deploy_prod}, assieme a un video dimostrativo \cite{video}.

\newpage
\subsection{Casi d'uso}
Di seguito sono raffigurati i casi d'uso previsti per ciascuna epica.
\begin{figure}[H]
    \centering
    \includegraphics[scale=0.7]{./img/usecase/tweet.pdf}
    \caption{Casi d'uso per l'epica: Raccolta e analisi di tweet}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[scale=0.7]{./img/usecase/tvgames.pdf}
    \caption{Casi d'uso per l'epica: Giochi televisivi}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[scale=0.7]{./img/usecase/chess.pdf}
    \caption{Casi d'uso per l'epica: Scacchi}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[scale=0.7]{./img/usecase/fantacitorio.pdf}
    \caption{Casi d'uso per l'epica: Fantacitorio}
\end{figure}


\subsection{Diagramma delle classi}
\input{class_diagram.tex}


%%%

\newpage
\section{Descrizione degli sprint} \label{sprint_description}
Sono stati svolti quattro sprint della durata di 14 giorni ciascuno.\\
La stima dei punti delle user stories è stata effettuata con una scala da 0 a 10, valutando separatamente il frontend dal backend. 
Il punteggio complessivo è quindi ottenuto dalla somma di quest'ultimi.

\subsection{Sprint 1}
\input{sprint1.tex}
\newpage

\subsection{Sprint 2}
\input{sprint2.tex}
\newpage

\subsection{Sprint 3}
\input{sprint3.tex}
\newpage

\subsection{Sprint 4}
\input{sprint4.tex}
\newpage

%%%

\newpage
\section{Descrizione del processo}

\subsection{Flusso di lavoro}
I ruoli di ciascun componente del gruppo nel processo di sviluppo sono stati i 
seguenti\footnote{Ad eccezione dello sprint 3 durante il quale è stata sperimentata l'inversione dei ruoli del team di sviluppo}:
\begin{center}
    \begin{tabular}{ | m{4cm} | m{10cm} | }
        \hline
        {\textbf{Membro}} & {\textbf{Ruoli}} \\
        \hline
        \makecell[cl]{Cheikh Ibrahim Zaid\\{\footnotesize PO Operativo}} & Sviluppo backend. Testing e quality assurance. \\ 
        \hline
        \makecell[cl]{Lee Qun Hao Henry\\{\footnotesize Developer}} & Sviluppo frontend. \\ 
        \hline
        \makecell[cl]{Paris Manuel\\{\footnotesize Developer}} & Sviluppo backend. \\ 
        \hline
        \makecell[cl]{Xia Tian Cheng\\{\footnotesize Scrum master}} & Sviluppo fullstack. Sistemista e CI/CD. \\ 
        \hline
    \end{tabular}
\end{center}

\subsubsection{Git}
L'organizzazione del repository git segue la metodologia \textit{gitflow} con un branch principale (\texttt{main}) che dopo ogni sprint viene allineato
con il branch di sviluppo (\texttt{dev}).\\
Più nello specifico, il flusso del lavoro ha seguito il seguente schema:
\input{workflow.tex}

\subsubsection{Bug tracking}
Per il tracciamento di problemi e bug sono stati usati gli strumenti disponibili in Gitlab e Taiga.
In particolare è stata utilizzata la funzionalità \textit{Issues} di Gitlab per creare e segnalare bug. 
Contemporaneamente è stato impostato Taiga in modo tale che venga integrato con Gitlab.\\
In questo modo sono visibili su entrambi gli strumenti le segnalazioni e il loro stato, permettendo una migliore pianificazione in fase di sprint planning e
una maggiore organizzazione durante lo sprint.

\subsubsection{Daily scrum}
Data l'impossibilità di effettuare incontri quotidiani, i daily scrum sono stati realizzati con cadenza più irregolare, tenendo una riunione almeno una volta a settimana
per allineare il team alla situazione del progetto (\textit{weekly scrum}).\\
In aggiunta, con l'obiettivo di sopperire alla mancanza di incontri giornalieri, sono stati effettuati dei \textit{daily scrum virtuali} su Mattermost.
Nello specifico, quando un componente decide di lavorare in una giornata, scrive un messaggio contenente la struttura di un daily scrum (ciò che svolgerà, ciò che ha svolto l'ultima volta ed eventuali problemi)
in modo tale da informare il team dell'avanzamento dei lavori.

\subsubsection{Monitoraggio delle ore di lavoro}
Per il tracciamento delle ore di lavoro è stata adottata una soluzione "manuale".
Ogni componente del gruppo è responsabile del monitoraggio delle proprie ore che compila in un file \texttt{json} presente in un repository su Gitlab \cite{timetracker_git}.\\
È inoltre presente una webapp \cite{timetracker} che elabora le informazioni inserite e si interfaccia con le API di Taiga, 
producendo una sintesi dei dati assieme a qualche statistica. 


\subsection{Team building}
\subsubsection{Scrumble}
La partita a Scrumble è stata giocata allo sprint 0, durante la fase preparatoria del progetto.\\
Lo scopo della sessione di team building era quella di prendere maggiore confidenza con la metodologia Scrum e 
confermare i ruoli all'interno del gruppo (Autovalutazione \cite{gqm_scrumble}).

\subsubsection{Escape the Boom}
La partita a Escape the Boom è stata giocata allo sprint 1.\\
L'obiettivo era quello di rafforzare la comunicazione nel team, che, come segnalato alla retrospettiva (\fref{sprint1_retrospettiva}),
era carente e poco significativa (Autovalutazione \cite{gqm_escapetheboom}).


\subsection{Gitinspector}
I risultati di Gitinspector sono disponibili nel repository Gitlab \cite{gitinspector}. 
Per un'analisi più gradulare, sono state fatte le seguenti scansioni:
\begin{itemize}
    \item Complessiva su tutti i file
    \item Solo sui file che implementano funzionalità (quindi escludendo i test)
    \item Solo sui file contenenti test
\end{itemize}

Oltre a considerare come metriche la quantità di commit e il numero di righe inserite che possono variare dal metodo di lavoro del singolo,
risulta interessante analizzare il contributo di ciascun membro alle feature del prodotto.\\
È infatti possibile individuare le feature a cui ciascun componente del gruppo ha maggiormente contribuito:
\input{git_responsabilities.tex}

È anche interessante analizzare l'andamento del numero di commit giornalieri nel tempo.
In particolare, se partizionata in base agli sprint, è possibile osservare alcuni comportamenti già evidenziati nella descrizione degli sprint (\fref{sprint_description}).
\begin{figure}[H]
    \centering
    \includegraphics[width=15cm]{./img/git/commit.png}
    \caption{Andamento del numero di commit giornalieri, suddivisi per sprint}
\end{figure}


\newpage
\subsection{Deployment}
\input{deployment.tex}


\newpage
\section{Artefatti}
L'accesso alle componenti dell'ambiente di sviluppo CAS avviene tramite \texttt{SSO Gitlab}.
\nocite{*}
\bibliographystyle{plain}
\bibliography{references}

\end{document}

